<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Islamic Daily Journal</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Lato:wght@400;700&family=Roboto:wght@400;500&display=swap');

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: 'Lato', Arial, sans-serif;
      background: linear-gradient(135deg, #e8f5e9 0%, #f0f0f0 100%);
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 20px;
    }

    h1 {
      color: #2e7d32;
      font-family: 'Roboto', Arial, sans-serif;
      font-size: 2.5em;
      margin-bottom: 20px;
      text-align: center;
      text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
    }

    h2 {
      font-family: 'Roboto', Arial, sans-serif;
      font-size: 1.8em;
      color: #1b5e20;
      margin-bottom: 15px;
    }

    .container {
      background: white;
      padding: 25px;
      border-radius: 12px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.15);
      width: 100%;
      max-width: 600px;
      margin-bottom: 20px;
      border: 1px solid #c8e6c9;
    }

    p {
      color: #333;
      line-height: 1.6;
      margin-bottom: 10px;
    }

    input, textarea {
      width: 100%;
      padding: 10px;
      margin-bottom: 15px;
      border: 1px solid #ccc;
      border-radius: 6px;
      font-family: 'Lato', Arial, sans-serif;
      font-size: 1em;
      transition: border-color 0.3s, box-shadow 0.3s;
    }

    input:focus, textarea:focus {
      outline: none;
      border-color: #2e7d32;
      box-shadow: 0 0 5px rgba(46,125,50,0.3);
    }

    textarea {
      resize: vertical;
      min-height: 80px;
    }

    button {
      width: 100%;
      padding: 12px;
      margin-bottom: 10px;
      border: none;
      border-radius: 6px;
      color: white;
      font-family: 'Roboto', Arial, sans-serif;
      font-size: 1.1em;
      cursor: pointer;
      transition: background-color 0.3s, transform 0.1s;
    }

    button:hover {
      transform: translateY(-2px);
    }

    .save-btn {
      background-color: #2e7d32;
    }

    .save-btn:hover {
      background-color: #1b5e20;
    }

    .history-btn {
      background-color: #616161;
    }

    .history-btn:hover {
      background-color: #424242;
    }

    .export-btn {
      background-color: #1976d2;
    }

    .export-btn:hover {
      background-color: #115293;
    }

    .history {
      display: none;
    }

    .history.show {
      display: block;
    }

    .entry {
      border-bottom: 1px solid #e0e0e0;
      padding-bottom: 15px;
      margin-bottom: 15px;
    }

    .entry:last-child {
      border-bottom: none;
    }

    .entry p {
      font-size: 0.95em;
    }

    @media (max-width: 500px) {
      h1 {
        font-size: 2em;
      }

      h2 {
        font-size: 1.5em;
      }

      .container {
        padding: 15px;
      }

      button {
        font-size: 1em;
        padding: 10px;
      }
    }
  </style>
</head>
<body>
  <h1>Islamic Daily Journal</h1>
  <div class="container">
    <h2 id="prompt-title">Daily Prompt</h2>
    <p id="prompt-text"></p>
    <input type="date" id="date" disabled>
    <textarea id="reflection" placeholder="Your reflection..." rows="5"></textarea>
    <textarea id="dua" placeholder="Your dua..." rows="3"></textarea>
    <button class="save-btn" onclick="saveEntry()">Save Entry</button>
    <button class="history-btn" onclick="toggleHistory()">Show History</button>
    <button class="export-btn" onclick="exportEntries()">Export Entries</button>
  </div>
  <div class="container history" id="history">
    <h2>Entry History</h2>
    <div id="history-list"></div>
  </div>
  <script>
    const prompts = [
      { id: 1, text: "What’s one blessing today I’m thankful for?", theme: "Gratitude" },
      { id: 2, text: "How did I show patience in a challenging moment today?", theme: "Patience" },
      { id: 3, text: "What Quranic verse inspired me today and why?", theme: "Quran" },
      { id: 4, text: "What’s one act of kindness I performed or witnessed today?", theme: "Community" },
      { id: 5, text: "How did I seek Allah’s forgiveness today?", theme: "Self-Reflection" },
      { id: 6, text: "What’s one way I can improve my salah tomorrow?", theme: "Worship" },
      { id: 7, text: "How did I share the beauty of Islam with someone today?", theme: "Dawah" },
      { id: 8, text: "What’s one thing I did today to prepare for the Akhirah?", theme: "Akhirah" },
      { id: 9, text: "What action did I perform today solely for Allah’s pleasure?", theme: "Ikhlas" },
      { id: 10, text: "How did I demonstrate trust in Allah’s plan today?", theme: "Tawakkul" },
      { id: 11, text: "What’s one way I practiced gratitude in my interactions today?", theme: "Gratitude" },
      { id: 12, text: "How did I overcome a moment of frustration today?", theme: "Patience" },
      { id: 13, text: "What lesson did I learn from a hadith today?", theme: "Quran" },
      { id: 14, text: "How did I support a family member or friend today?", theme: "Community" },
      { id: 15, text: "What’s one habit I want to change to grow closer to Allah?", theme: "Self-Reflection" },
      { id: 16, text: "How did I feel during my dua today?", theme: "Worship" },
      { id: 17, text: "What’s one small way I can invite others to Islam tomorrow?", theme: "Dawah" },
      { id: 18, text: "How did I reflect on Jannah or Jahannam today?", theme: "Akhirah" },
      { id: 19, text: "What’s one intention I set today for Allah’s sake?", theme: "Ikhlas" },
      { id: 20, text: "How did I rely on Allah during a difficult moment today?", theme: "Tawakkul" },
      { id: 21, text: "What’s one thing I’m grateful for in my health today?", theme: "Gratitude" },
      { id: 22, text: "How did I stay calm when faced with a delay today?", theme: "Patience" },
      { id: 23, text: "What’s one Quranic story that resonated with me today?", theme: "Quran" },
      { id: 24, text: "How did I contribute to my community today?", theme: "Community" },
      { id: 25, text: "What’s one mistake I made today and how can I improve?", theme: "Self-Reflection" },
      { id: 26, text: "How did I prepare for salah today to make it meaningful?", theme: "Worship" },
      { id: 27, text: "What’s one quality of the Prophet (PBUH) I tried to emulate today?", theme: "Dawah" },
      { id: 28, text: "What’s one deed I did today that I hope weighs heavy on my scale?", theme: "Akhirah" },
      { id: 29, text: "How did I purify my intentions before an action today?", theme: "Ikhlas" },
      { id: 30, text: "What’s one worry I let go of by trusting Allah today?", theme: "Tawakkul" },
      { id: 31, text: "What’s one moment of joy I experienced today and why?", theme: "Gratitude" },
      { id: 32, text: "How did I respond to someone’s anger with patience today?", theme: "Patience" },
      { id: 33, text: "What’s one ayah I memorized or reflected on today?", theme: "Quran" },
      { id: 34, text: "How did I show love or respect to a neighbor today?", theme: "Community" },
      { id: 35, text: "What’s one strength Allah gave me that I used today?", theme: "Self-Reflection" },
      { id: 36, text: "What’s one sunnah I followed in my worship today?", theme: "Worship" },
      { id: 37, text: "How did I explain an Islamic value to someone today?", theme: "Dawah" },
      { id: 38, text: "What’s one way I reminded myself of the Day of Judgment today?", theme: "Akhirah" },
      { id: 39, text: "What’s one action I took today without seeking praise?", theme: "Ikhlas" },
      { id: 40, text: "How did I find peace in Allah’s decree today?", theme: "Tawakkul" },
      { id: 41, text: "What’s one provision from Allah I appreciated today?", theme: "Gratitude" },
      { id: 42, text: "How did I control my tongue in a heated moment today?", theme: "Patience" },
      { id: 43, text: "What’s one attribute of Allah I reflected on today?", theme: "Quran" },
      { id: 44, text: "How did I help someone in need today?", theme: "Community" },
      { id: 45, text: "What’s one temptation I resisted for Allah’s sake today?", theme: "Self-Reflection" },
      { id: 46, text: "How did I make my dhikr more heartfelt today?", theme: "Worship" },
      { id: 47, text: "What’s one way I showed the mercy of Islam today?", theme: "Dawah" },
      { id: 48, text: "How did I prepare my heart for the Hereafter today?", theme: "Akhirah" },
      { id: 49, text: "What’s one deed I did today purely for Allah’s reward?", theme: "Ikhlas" },
      { id: 50, text: "How did I surrender a plan to Allah’s will today?", theme: "Tawakkul" },
      { id: 51, text: "What’s one family moment I’m grateful for today?", theme: "Gratitude" },
      { id: 52, text: "How did I wait patiently for an answer today?", theme: "Patience" },
      { id: 53, text: "What’s one Quranic command I followed today?", theme: "Quran" },
      { id: 54, text: "How did I strengthen a bond with a Muslim brother/sister today?", theme: "Community" },
      { id: 55, text: "What’s one area of my life I need to align with Islam?", theme: "Self-Reflection" },
      { id: 56, text: "How did I focus during my salah today?", theme: "Worship" },
      { id: 57, text: "What’s one way I clarified a misconception about Islam today?", theme: "Dawah" },
      { id: 58, text: "What’s one sign of Allah’s mercy I noticed today?", theme: "Akhirah" },
      { id: 59, text: "How did I ensure my actions were sincere today?", theme: "Ikhlas" },
      { id: 60, text: "What’s one trial I faced with trust in Allah today?", theme: "Tawakkul" },
      { id: 61, text: "What’s one opportunity Allah gave me today?", theme: "Gratitude" },
      { id: 62, text: "How did I avoid reacting impulsively today?", theme: "Patience" },
      { id: 63, text: "What’s one story of a prophet that inspired me today?", theme: "Quran" },
      { id: 64, text: "How did I show hospitality to someone today?", theme: "Community" },
      { id: 65, text: "What’s one goal I set to please Allah today?", theme: "Self-Reflection" },
      { id: 66, text: "What’s one way I honored the sunnah in my day?", theme: "Worship" },
      { id: 67, text: "How did I inspire someone to learn about Islam today?", theme: "Dawah" },
      { id: 68, text: "What’s one way I prepared for my meeting with Allah?", theme: "Akhirah" },
      { id: 69, text: "What’s one action I took without expecting reward from others?", theme: "Ikhlas" },
      { id: 70, text: "How did I accept Allah’s qadr today?", theme: "Tawakkul" },
      { id: 71, text: "What’s one small blessing I noticed today?", theme: "Gratitude" },
      { id: 72, text: "How did I practice sabr during a test today?", theme: "Patience" },
      { id: 73, text: "What’s one name of Allah I connected with today?", theme: "Quran" },
      { id: 74, text: "How did I forgive someone in my community today?", theme: "Community" },
      { id: 75, text: "What’s one way I can improve my character tomorrow?", theme: "Self-Reflection" },
      { id: 76, text: "How did I make my fasting or charity meaningful today?", theme: "Worship" },
      { id: 77, text: "What’s one way I shared Islamic knowledge today?", theme: "Dawah" },
      { id: 78, text: "What’s one way I remembered the temporary nature of dunya?", theme: "Akhirah" },
      { id: 79, text: "How did I check my intentions before acting today?", theme: "Ikhlas" },
      { id: 80, text: "What’s one fear I gave to Allah today?", theme: "Tawakkul" },
      { id: 81, text: "What’s one thing I learned about my faith today?", theme: "Gratitude" },
      { id: 82, text: "How did I stay patient with myself today?", theme: "Patience" },
      { id: 83, text: "What’s one ayah that brought me peace today?", theme: "Quran" },
      { id: 84, text: "How did I show unity with my community today?", theme: "Community" },
      { id: 85, text: "What’s one way I can be more mindful of Allah tomorrow?", theme: "Self-Reflection" },
      { id: 86, text: "How did I honor my parents or elders today?", theme: "Worship" },
      { id: 87, text: "What’s one way I embodied Islamic manners today?", theme: "Dawah" },
      { id: 88, text: "How did I reflect on Allah’s signs in nature today?", theme: "Akhirah" },
      { id: 89, text: "What’s one deed I did in secret for Allah today?", theme: "Ikhlas" },
      { id: 90, text: "How did I trust Allah’s timing today?", theme: "Tawakkul" },
      { id: 91, text: "What’s one way Allah protected me today?", theme: "Gratitude" },
      { id: 92, text: "How did I practice patience in my work or studies today?", theme: "Patience" },
      { id: 93, text: "What’s one lesson from the Quran I applied today?", theme: "Quran" },
      { id: 94, text: "How did I encourage someone in my community today?", theme: "Community" },
      { id: 95, text: "What’s one way I can increase my fear of Allah tomorrow?", theme: "Taqwa" }
    ];

    function getDailyPrompt() {
      const today = new Date().toISOString().split('T')[0];
      const seed = today.split('-').reduce((acc, val) => acc + parseInt(val), 0);
      const index = seed % prompts.length;
      return prompts[index];
    }

    function loadPrompt() {
      const prompt = getDailyPrompt();
      document.getElementById('prompt-title').textContent = `Daily Prompt #${prompt.id} (${prompt.theme})`;
      document.getElementById('prompt-text').textContent = prompt.text;
      document.getElementById('date').value = new Date().toISOString().split('T')[0];
    }

    function saveEntry() {
      const reflection = document.getElementById('reflection').value.trim();
      if (!reflection) return;
      const prompt = getDailyPrompt();
      const entry = {
        date: new Date().toISOString().split('T')[0],
        promptId: prompt.id,
        theme: prompt.theme,
        reflection,
        dua: document.getElementById('dua').value.trim()
      };
      const entries = JSON.parse(localStorage.getItem('entries') || '[]');
      entries.unshift(entry);
      localStorage.setItem('entries', JSON.stringify(entries));
      document.getElementById('reflection').value = '';
      document.getElementById('dua').value = '';
      updateHistory();
    }

    function toggleHistory() {
      const history = document.getElementById('history');
      const btn = document.querySelector('.history-btn');
      history.classList.toggle('show');
      btn.textContent = history.classList.contains('show') ? 'Hide History' : 'Show History';
    }

    function updateHistory() {
      const entries = JSON.parse(localStorage.getItem('entries') || '[]');
      const historyList = document.getElementById('history-list');
      historyList.innerHTML = entries.length === 0 ? '<p>No entries yet.</p>' : '';
      entries.forEach(entry => {
        const div = document.createElement('div');
        div.className = 'entry';
        div.innerHTML = `
          <p><strong>${entry.date}</strong>: Prompt #${entry.promptId} (${entry.theme})</p>
          <p>${entry.reflection.substring(0, 50)}...</p>
          <p><em>Dua:</em> ${entry.dua || 'None'}</p>
        `;
        historyList.appendChild(div);
      });
    }

    function exportEntries() {
      const entries = JSON.parse(localStorage.getItem('entries') || '[]');
      if (entries.length === 0) return;
      const textContent = entries.map(entry => {
        return `Date: ${entry.date}\nPrompt #${entry.promptId} (${entry.theme})\nPrompt Text: ${prompts[entry.promptId - 1].text}\nReflection: ${entry.reflection}\nDua: ${entry.dua || 'None'}\n---`;
      }).join('\n');
      const blob = new Blob([textContent], { type: 'text/plain' });
      const url = URL.createObjectURL(blob);
      const link = document.createElement('a');
      link.href = url;
      link.download = 'journal_entries.txt';
      link.click();
      URL.revokeObjectURL(url);
    }

    // Initialize
    loadPrompt();
    updateHistory();
  </script>
</body>
</html>